<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
	<title></title>
	<link href="document.css" rel="stylesheet" type="text/css" />
</head>
<body>
<h1>Roaster Client Support</h1>

<p>Roaster is designed to support single-page applications. To this end it provides:</p>

<ul>
	<li>Framework for compiling to browser supported formats. Out of the box Coffeescript to Javascript and Less to CSS are available.</li>
	<li>Package management and load-on-demand support for project and third-party code. Many prepared packages such as those for jquery, ckeditor and codemirror.</li>
	<li>A very very lightweight solution for separation of concerns providing the value of MVC without the overheads in both understanding and code.</li>
	<li>Simplified single-script installation for roaster and any system built with it. Works with OS-X, Linux and Windows.</li>
	<li>Common module support for sharing code between Node and the browser.</li>
</ul>

<p><textarea readonly="readonly" source="true" type="gwt.coffee">browser = gwt.browser()
gwt.open_page = (path = 'index.html') -&gt; gwt.preactions.push -&gt;
  url = "http://localhost:9010/#{path}"
  @page = browser.page('live').open url, retain: true
  @page.once 'open', =&gt; @next()
  @page.once 'error', =&gt; @fail()</textarea></p>

<div class="metadata Ref">Ref: <span class="panel_stack"><a href="javascript:usdlc.edit_source({value:'panel_stack.coffee',path:'../roaster/client/integrants/panel_stack.coffee',category:'integrants'})">panel_stack.coffee</a> </span><span class="tab_view"><a href="javascript:usdlc.edit_source({value:'tab_view.coffee',path:'../roaster/client/integrants/tab_view.coffee',category:'integrants'})">tab_view.coffee</a> </span><span class="ckeditor"><a href="javascript:usdlc.edit_source({value:'ckeditor.coffee',path:'../roaster/client/packages/ckeditor.coffee',category:'packages'})">ckeditor.coffee</a> </span><span class="codemirror"><a href="javascript:usdlc.edit_source({value:'codemirror.coffee',path:'../roaster/client/packages/codemirror.coffee',category:'packages'})">codemirror.coffee</a> </span><span class="create-ws-server"><a href="javascript:usdlc.edit_source({value:'create-ws-server.coffee',path:'../roaster/server/boot/create-ws-server.coffee',category:'boot'})">create-ws-server.coffee</a> </span><span class="internet"><a href="javascript:usdlc.edit_source({value:'internet.coffee',path:'../roaster/server/internet.coffee',category:'server'})">internet.coffee</a> </span><span class="streams"><a href="javascript:usdlc.edit_source({value:'streams.coffee',path:'../roaster/server/streams.coffee',category:'server'})">streams.coffee</a> </span><span class="dirs"><a href="javascript:usdlc.edit_source({value:'dirs.js',path:'../roaster/server/dirs.js',category:'server'})">dirs.js</a> </span><span class="html_editor"><a href="javascript:usdlc.edit_source({value:'html_editor.coffee',path:'../roaster/client/integrants/html_editor.coffee',category:'integrants'})">html_editor.coffee</a> </span><span class="mvc"><a href="javascript:usdlc.edit_source({value:'mvc.coffee',path:'../roaster/client/mvc.coffee',category:'client'})">mvc.coffee</a> </span><span class="timer"><a href="javascript:usdlc.edit_source({value:'timer.coffee',path:'../roaster/common/timer.coffee',category:'common'})">timer.coffee</a> </span><span class="date"><a href="javascript:usdlc.edit_source({value:'date.coffee',path:'../roaster/common/date.coffee',category:'common'})">date.coffee</a> </span><span class="sessions"><a href="javascript:usdlc.edit_source({value:'sessions.coffee',path:'../roaster/server/boot/sessions.coffee',category:'boot'})">sessions.coffee</a> </span><span class="create-http-server"><a href="javascript:usdlc.edit_source({value:'create-http-server.coffee',path:'../roaster/server/boot/create-http-server.coffee',category:'boot'})">create-http-server.coffee</a> </span><span class="install-roaster"><a href="javascript:usdlc.edit_source({value:'install-roaster.sh',path:'../roaster/install/install-roaster.sh',category:'install'})">install-roaster.sh</a> </span><span class="update-node"><a href="javascript:usdlc.edit_source({value:'update-node.sh',path:'../roaster/install/update-node.sh',category:'install'})">update-node.sh</a> </span></div>

<h2>Initialisation</h2>

<p>Every project starts at <em>/index.html</em>. For a 'standard' roaster based project this is an empty document that loads&nbsp;/client/bootstrap.coffee to start the heavy lifting. This script initialises a requires keyword anc calls another roaster specific script <em>/client/bootstrap/init.coffee</em>. All if this is just preparation. A project specific <em>/client/app.coffee</em>&nbsp;prepares the application and loads the screen.</p>

<h2>Script and CSS Pre-compilation</h2>

<h2>Support</h2>

<h3>Page Arguments</h3>

<p>Page arguments provide controlled application operation from either the html or the search part of the url.</p>

<pre title="html" type="html">
&lt;!DOCTYPE HTML&gt;
  &lt;script&gt;
    roaster = {opts: {'test-arg': 23}}
  &lt;/script&gt;
  &lt;script src='/client/bootstrap.coffee?domain=client,library'&gt;
  &lt;/script&gt;
&lt;/head&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>

<p> </p>

<pre title="coffee" type="coffee">
gwt.open_page "gen/usdlc2/Roaster_Client_Support/"+
              "Support/Page_Arguments.html?test-arg2=45"
  
gwt.add "Embedded Page Arguments", -&gt; @page.test -&gt;
  usdlc2.check roaster.page_arg('test-arg'), '23'
  
gwt.add "Address Page Arguments", -&gt; @page.test -&gt;
  usdlc2.check roaster.page_arg('test-arg2'), '45'
  
gwt.add "Default Page Arguments", -&gt; @page.test -&gt;
  usdlc2.check roaster.page_arg('unknown', '12'), '12'</pre>

<div class="metadata Ref">Ref: <span class="Bridge"><a href="javascript:usdlc.bridge_editor()">Bridge</a> </span><span class="Play"><a href="javascript:usdlc.play()">Play</a> </span><span class="index"><a href="javascript:usdlc.edit_source({value:'index.html',path:'../roaster/index.html',category:'roaster'})">index.html</a> </span><span class="bootstrap"><a href="javascript:usdlc.edit_source({value:'bootstrap.coffee',path:'../roaster/client/bootstrap.coffee',category:'client'})">bootstrap.coffee</a> </span><span class="create-http-server"><a href="javascript:usdlc.edit_source({value:'create-http-server.coffee',path:'../roaster/server/boot/create-http-server.coffee',category:'boot'})">create-http-server.coffee</a> </span><span class="less"><a href="javascript:usdlc.edit_source({value:'less.coffee',path:'../roaster/drivers/less.coffee',category:'drivers'})">less.coffee</a> </span><span class="server"><a href="javascript:usdlc.edit_source({value:'server.coffee',path:'../roaster/server/boot/server.coffee',category:'boot'})">server.coffee</a> </span><span class="internet"><a href="javascript:usdlc.edit_source({value:'internet.coffee',path:'../roaster/server/internet.coffee',category:'server'})">internet.coffee</a> </span><span class="system"><a href="javascript:usdlc.edit_source({value:'system.coffee',path:'../roaster/server/system.coffee',category:'server'})">system.coffee</a> </span><span class="processes"><a href="javascript:usdlc.edit_source({value:'processes.coffee',path:'../roaster/server/processes.coffee',category:'server'})">processes.coffee</a> </span><span class="init"><a href="javascript:usdlc.edit_source({value:'init.coffee',path:'../roaster/client/bootstrap/init.coffee',category:'bootstrap'})">init.coffee</a> </span><span class="mvc"><a href="javascript:usdlc.edit_source({value:'mvc.coffee',path:'../roaster/client/bootstrap/mvc.coffee',category:'bootstrap'})">mvc.coffee</a> </span></div>

<p><textarea readonly="readonly" source="true" type="gwt.coffee"></textarea></p>

<h3>Important Elements</h3>

<p>Roaster keeps a reference to the head element in <em>roaster.head</em>. This is used for adding script and style elements to the document.</p>

<pre title="coffee" type="coffee">
gwt.open_page "index.html"

gwt.add "Header Element", -&gt; @page.test -&gt;
  usdlc2.check roaster.head.nodeName, 'HEAD'</pre>

<div class="metadata Ref">Ref: <span class="Bridge"><a href="javascript:usdlc.bridge_editor()">Bridge</a> </span><span class="Play"><a href="javascript:usdlc.play()">Play</a> </span></div>

<p><textarea readonly="readonly" source="true" type="gwt.coffee"></textarea></p>

<h2>Sessions</h2>

<h3>Cookies</h3>

<p>Roaster provides a primative to set and/or get cookies from the browser conversation.</p>

<div style="background:#eee;border:1px solid #ccc;padding:5px 10px;"><code>cookies = require 'http:/cookies'<br />
<br />
module.exports = (exchange) -&gt;<br />
&nbsp;&nbsp;my_name = cookies.get exchange.request, 'my_name'<br />
&nbsp;&nbsp;if my_name.length is 0<br />
&nbsp; &nbsp; my_name = 'Donald'<br />
&nbsp;&nbsp; &nbsp;cookies.set exchange.response, my_name: my_name</code><br />
 </div>

<p><textarea readonly="readonly" source="true" type="gwt.coffee"></textarea></p>

<div class="metadata Ref">Ref: <span class="sessions"><a href="javascript:usdlc.edit_source({value:'sessions.coffee',path:'../roaster/server/boot/sessions.coffee',category:'boot'})">sessions.coffee</a> </span></div>

<h3>Sessions</h3>

<p>It is all very well for browser conversations to be completely stateless - most of the time. It does make sense, however, that when you log in that the server provides related state. Whenever roaster starts a conversation with a browser it adds a browser session cookie referencing a server side session object. In short, in any interaction, exchange.session can be used to store conversation data - until either the browser or server closes.</p>

<div style="background:#eee;border:1px solid #ccc;padding:5px 10px;"><code>module.exports = (exchange) -&gt;<br />
&nbsp;&nbsp;exchange.session.counter ?= 0<br />
&nbsp;&nbsp;exchange.session.counter += 1<br />
&nbsp;&nbsp;exchange.respond.json counter: exchange.session.counter</code></div>

<h2>Package Management</h2>

<h3>Requires</h3>

<p>Roaster provides an extended version of the CommonJS approach to modules and package management. To support client/server common code and library code, the global require function can take a single module name and return a reference to the code.</p>

<pre title="coffee" type="coffee">
gwt.open_page "index.html"

gwt.add -&gt;
  console.log "#2 CommonJS Requires"
  @page.test -&gt;
    util = require('util')
    usdlc2.test(util.isDate(new Date()))</pre>

<p>The downside is that if the module must be loaded from the server, a synchronous call will be needed - and will freeze the browser until completed. Given that most loads happen when accessing new functionality, and that roaster is designed for local network or same machine use, &nbsp;these freezes are both short and happen at a time when it should not be an annoyance.</p>

<p>In practice module loading should be asynchronous. Roaster supports load-on-demand and asynchronous loading will improve the user experience. Any call to require with multiple parameters will expect the last to be a callback. The other arguments are comma separated lists of modules. The callback returns a single argument being an object with members for each module loaded.</p>

<pre title="coffee" type="coffee">
gwt.add -&gt;
  console.log "#2 Asynchronous Requires"
  @page.test -&gt;
    require "util,strings", "faye", (a) -&gt;
      try
        csv = a.strings.csv.split("1,3", "2,4")
        if not a.util.isArray([1,2])
          return usdlc2.fail("isArray")
        console.log csv
        if (csv.length isnt 4 or
        csv[0] isnt "1" or csv[1] isnt "3" or
        csv[2] isnt "2" or csv[3] isnt "4")
          return usdlc2.fail("csv")
        if typeof(a.faye) isnt "function"
          return usdlc2.fail("faye")
        usdlc2.pass()
      catch e
        usdlc2.fail(e)</pre>

<p><textarea readonly="readonly" source="true" type="gwt.coffee"></textarea></p>

<div class="metadata Ref">Ref: <span class="Bridge"><a href="javascript:usdlc.bridge_editor()">Bridge</a> </span><span class="Play"><a href="javascript:usdlc.play()">Play</a>&nbsp;</span><span class="require"><a href="javascript:usdlc.edit_source({value:'require.coffee',path:'../roaster/drivers/require.coffee',category:'drivers'})">require.coffee</a> </span></div>

<h3>Module Path Conventions</h3>

<p>As with server files, <em>requires</em>&nbsp;searches well-known paths first on the target project and second on <em>roaster</em>. First it looks in <em>/client/</em>, then on the server paths, being <em>/common/, /server/ </em>and<em> /</em>.</p>

<div class="metadata Ref">Ref: <span class="Bridge"><a href="javascript:usdlc.bridge_editor()">Bridge</a> </span><span class="Play"><a href="javascript:usdlc.play()">Play</a>&nbsp;</span><span class="bootstrap"><a href="javascript:usdlc.edit_source({value:'bootstrap.coffee',path:'../roaster/client/bootstrap.coffee',category:'client'})">bootstrap.coffee</a> </span></div>

<p><textarea readonly="readonly" source="true" type="gwt.coffee"></textarea></p>

<h3>Client Server Hybrid Modules</h3>

<p>It is often clearest to implement the two sides of a client/server communication in a single file. For this reason <em>module.exports.client</em> is used if it exists - otherwise <em>module.exports</em> is used as usual.</p>

<p>In the example, uSDLC2 executes which causes the test page to load (1) which in turn creates a requires to the server to (2).</p>

<pre title="coffee" type="coffee">
# (2) This code will be executed on the server
module.exports = (exchange) -&gt;
  exchange.respond.json server: 'called'

# (1) This code will be executed on the client
module.exports.client = -&gt;
  require.json "gen/usdlc2/Roaster_Client_Support/"+
  "Package_Management/Client_Server_Hybrid_Modules",
  (error, data_from_server) -&gt;
    usdlc2.check data_from_server.server, 'called'</pre>

<div class="metadata Ref">Ref: <span class="Bridge"><a href="javascript:usdlc.bridge_editor()">Bridge</a> </span><span class="Play"><a href="javascript:usdlc.play()">Play</a> </span><span class="init"><a href="javascript:usdlc.edit_source({value:'init.coffee',path:'../roaster/client/bootstrap/init.coffee',category:'bootstrap'})">init.coffee</a> </span><span class="loaders"><a href="javascript:usdlc.edit_source({value:'loaders.coffee',path:'../roaster/client/bootstrap/loaders.coffee',category:'bootstrap'})">loaders.coffee</a>&nbsp;</span><span class="bootstrap"><a href="javascript:usdlc.edit_source({value:'bootstrap.coffee',path:'../roaster/client/bootstrap.coffee',category:'client'})">bootstrap.coffee</a>&nbsp;</span><span class="require"><a href="javascript:usdlc.edit_source({value:'require.coffee',path:'../roaster/drivers/require.coffee',category:'drivers'})">require.coffee</a> </span><span class="driver"><a href="javascript:usdlc.edit_source({value:'driver.coffee',path:'../roaster/server/http/driver.coffee',category:'http'})">driver.coffee</a> </span><span class="script"><a href="javascript:usdlc.edit_source({value:'script.coffee',path:'../roaster/drivers/script.coffee',category:'drivers'})">script.coffee</a> </span><span class="server"><a href="javascript:usdlc.edit_source({value:'server.coffee',path:'../roaster/drivers/server.coffee',category:'drivers'})">server.coffee</a> </span><span class="respond"><a href="javascript:usdlc.edit_source({value:'respond.coffee',path:'../roaster/server/http/respond.coffee',category:'http'})">respond.coffee</a> </span><span class="create-http-server"><a href="javascript:usdlc.edit_source({value:'create-http-server.coffee',path:'../roaster/server/boot/create-http-server.coffee',category:'boot'})">create-http-server.coffee</a> </span></div>

<p><textarea readonly="readonly" source="true" type="gwt.coffee">gwt.open_page "index.html"

gwt.add -&gt;
  console.log "#2 Client/Server Hybrid Module"
  @page.test -&gt;
    a = require "gen/usdlc2/Roaster_Client_Support/"+
    "Package_Management/Client_Server_Hybrid_Modules"
    a()
</textarea></p>

<h3>Basic Loading Support</h3>

<p>Require also provides facilities to load other forms of data from the server.</p>

<p><textarea readonly="readonly" source="true" type="gwt.coffee"></textarea></p>

<h4>Scripts</h4>

<p>Use <em>require</em> to load modules from the current project. For external code, <em>requires.script(url, on_loaded)</em>&nbsp;provides basic asynchronous loading of JavaScript code by injecting <em>&lt;script&gt;</em> into the head element. The script is run on the browser by adding <em>domain=text/javascript</em> to the query. Use JSON, Text or Streamed below for scripts that run on the server.</p>

<pre title="coffee" type="coffee">
if gwt?.open_page
  gwt.open_page "index.html"

  gwt.add -&gt;
    console.log "#2 require.script(url, on_loaded)"
    @page.test -&gt;
      require.script "gen/usdlc2/"+
      "Roaster_Client_Support/Package_Management/"+
      "Basic_Loading_Support/Scripts.coffee", -&gt;

usdlc2.pass('this runs on client') if usdlc2?.pass</pre>

<div class="metadata Ref">Ref: <span class="Bridge"><a href="javascript:usdlc.bridge_editor()">Bridge</a> </span><span class="Play"><a href="javascript:usdlc.play()">Play</a> </span><span class="client"><a href="javascript:usdlc.edit_source({value:'client.coffee',path:'../roaster/drivers/client.coffee',category:'drivers'})">client.coffee</a> </span><span class="respond"><a href="javascript:usdlc.edit_source({value:'respond.coffee',path:'../roaster/server/http/respond.coffee',category:'http'})">respond.coffee</a> </span><span class="driver"><a href="javascript:usdlc.edit_source({value:'driver.coffee',path:'../roaster/server/http/driver.coffee',category:'http'})">driver.coffee</a> </span><span class="create-http-server"><a href="javascript:usdlc.edit_source({value:'create-http-server.coffee',path:'../roaster/server/boot/create-http-server.coffee',category:'boot'})">create-http-server.coffee</a> </span></div>

<p><textarea readonly="readonly" source="true" type="gwt.coffee"></textarea></p>

<h4>CSS</h4>

<p>CSS files can be added with requires.css(url) - which in turn creates a link element in the head. If the reference is to the local server, roaster provides translations from less and stylus to CSS. More can be added using the server-side morph system.</p>

<pre title="less" type="less">
@base: #f938ab;

.box-shadow(@style, @c) when (iscolor(@c)) {
  -webkit-box-shadow: @style @c;
  box-shadow:         @style @c;
}
.box-shadow(@style, @alpha: 50%) when (isnumber(@alpha)) {
  .box-shadow(@style, rgba(0, 0, 0, @alpha));
}
.box {
  float: right;
  color: saturate(@base, 5%);
  border-color: lighten(@base, 30%);
  div { .box-shadow(0 0 5px, 30%) }
}
</pre>

<p> </p>

<pre title="coffee" type="coffee">
gwt.open_page "index.html"

gwt.add -&gt;
  console.log "#2 require.css(url)"
  @page.test -&gt;
    
    require.css "gen/usdlc2/"+
      "Roaster_Client_Support/Package_Management/"+
      "Basic_Loading_Support/CSS.less"
      
    document.body.innerHTML = "&lt;div class='box'&gt;a&lt;/div&gt;"
    div = document.getElementsByClassName('box')[0]
    # wait for css to load and take effect
    setTimeout (-&gt;
      left = div.offsetLeft
      usdlc2.test left &gt; 100, "Box is at "+left), 200</pre>

<p> </p>

<div class="metadata Ref">Ref: <span class="Bridge"><a href="javascript:usdlc.bridge_editor()">Bridge</a> </span><span class="Play"><a href="javascript:usdlc.play()">Play</a> </span><span class="panel_stack"><a href="javascript:usdlc.edit_source({value:'panel_stack.coffee',path:'../roaster/client/integrants/panel_stack.coffee',category:'integrants'})">panel_stack.coffee</a> </span></div>

<p><textarea readonly="readonly" source="true" type="gwt.coffee"></textarea></p>

<h4>JSON</h4>

<p>Data is often transferred between client and server in JSON format.</p>

<pre title="json" type="json">
{ "server-side": true }
</pre>

<pre title="coffee" type="coffee">
gwt.open_page "index.html"

gwt.add -&gt;
  console.log "#2 require.json(url, on_loaded)"
  @page.test -&gt;
    require.json "gen/usdlc2/Roaster_Client_Support/"+
    "Package_Management/Basic_Loading_Support/JSON.json",
    (error, from_server) -&gt;
      usdlc2.test from_server["server-side"]</pre>

<p> </p>

<div class="metadata Ref">Ref: <span class="Bridge"><a href="javascript:usdlc.bridge_editor()">Bridge</a> </span><span class="Play"><a href="javascript:usdlc.play()">Play</a> </span></div>

<p><textarea readonly="readonly" source="true" type="gwt.coffee"></textarea></p>

<h4>Data</h4>

<p>Sometimes it is easiest to parse proprietary formats on the client.</p>

<pre title="txt" type="txt">
Spanish rain</pre>

<pre title="coffee" type="coffee">
gwt.open_page "index.html"

gwt.add -&gt;
  console.log "#2 require.data(url, on_loaded)"
  @page.test -&gt;
    require.data "gen/usdlc2/Roaster_Client_Support/"+
    "Package_Management/Basic_Loading_Support/Data.txt",
    (error, from_server) -&gt;
      rained = from_server.indexOf("Spanish rain")
      usdlc2.test rained isnt -1</pre>

<p> </p>

<div class="metadata Ref">Ref: <span class="loaders"><a href="javascript:usdlc.edit_source({value:'loaders.coffee',path:'../roaster/client/bootstrap/loaders.coffee',category:'bootstrap'})">loaders.coffee</a> </span><span class="Bridge"><a href="javascript:usdlc.bridge_editor()">Bridge</a> </span><span class="Play"><a href="javascript:usdlc.play()">Play</a> </span></div>

<p><textarea readonly="readonly" source="true" type="gwt.coffee"></textarea></p>

<h4>Streamed</h4>

<p>For absolute control of data from the server, use <em>require.stream(url, headers..., on_data)</em>.</p>

<pre title="coffee" type="coffee">
gwt.open_page "index.html"

gwt.add -&gt;
  console.log "#2 require.stream"
  @page.test -&gt;
    data = []
    require.stream "gen/usdlc2/Roaster_Client_Support/"+
    "Package_Management/Basic_Loading_Support/Data.txt",
    pragma: "no-cache", (error, chunk, is_complete) -&gt;
      data.push chunk
      if is_complete
        data = data.join('')
        rained = data.indexOf("Spanish rain")
        usdlc2.test rained isnt -1</pre>

<div class="metadata Ref">Ref: <span class="Bridge"><a href="javascript:usdlc.bridge_editor()">Bridge</a> </span><span class="Play"><a href="javascript:usdlc.play()">Play</a> </span><span class="loaders"><a href="javascript:usdlc.edit_source({value:'loaders.coffee',path:'../roaster/client/bootstrap/loaders.coffee',category:'bootstrap'})">loaders.coffee</a> </span><span class="files"><a href="javascript:usdlc.edit_source({value:'files.coffee',path:'../roaster/server/files.coffee',category:'server'})">files.coffee</a> </span></div>

<p><textarea readonly="readonly" source="true" type="gwt.coffee"></textarea></p>

<h2>MVC - Separation of Concerns</h2>

<h3>Core MVC</h3>

<p>The model is the concern of the server and is connected by the controllers using <em>require.json</em> or <em>require.data</em>. The controller provides client side computation and retrieval of model information from the server. The view is comprised of HTML and Style fragments.</p>

<p>An integrant is the client side files that make up a single function. All files have the same name. The view has a html and style file (css, less or stylus). The controller can be any language that compiles to Javascript (js, coffee, ...). The same file can include the server code to interface to the model.</p>

<p>Integrants are associated with an host element on the page. Different parts of a page can be serviced by different integrants. They can also be nested. Unit testing is supported by providing a mock host element.</p>

<p>An integrant is created with <em>roaster.mvc(name, host, options..., on_ready)</em>. The callback will be made when the html and scripts are both loaded and ready.</p>

<p>While the CSS is loaded as part of the integrant, the definitions are not in a separate namespace. The outer integrant is designed to fill the entire body area.</p>

<pre title="css" type="css">
html, .content {
  min-height: 100%;
  height: 100%;
  margin: 0;
  min-width: 100%;
  width: 100%;
}
</pre>

<p>The heading is for an example of html. Typically an outer integrant is empty.</p>

<pre title="html" type="html">
&lt;h1&gt;This is a Heading&lt;/h1&gt;

&lt;div class="template" name="main"&gt;&lt;/div&gt;</pre>

<p>Anything with a class of <em>template</em> is recorded in the integrant array <em>@templates</em> - both as an array and my name if it has a name element. In the example above the single template can be retrieved as <em>@templates[0]</em> or <em>@templates.content.&nbsp;</em>Once a template is recorded it is removed from the DOM.</p>

<p>The controller consists if a class or prototype that is instantiated when&nbsp;<em>mvc</em>&nbsp;is called and the server side data loaded. It is passed a reference to the host and options.</p>

<pre title="coffee" type="coffee">
Integrant = require 'client/Integrant'

class Body extends Integrant
  init: (ready) -&gt;
    # do further initialisation requiring async access
    err = null
    ready(err)
    
module.exports = Body</pre>

<p>Integrants by default live in <em>/client/integrants</em>&nbsp;in the current or roaster project. If the name starts with a / then the path is absolute to the project and is not forced into a specific&nbsp;directory. This is useful here since the files are generated in the <em><strong>usdlc2</strong></em> document. Note that the host is a raw DOM element.</p>

<p>Inner integrants can be created by further calls to <em>mvc</em>, or by the add method. If the former, and the outer integrant is used as the host, the new integrant will be added at the first template location.</p>

<pre title="gwt.coffee" type="gwt.coffee">
name = "/gen/usdlc2/Roaster_Client_Support/"+
       "MVC_-_Separation_of_Concerns/Core_MVC"
  
picture =
  page: mvc: name, cargo:
    main: mvc: 'panel_stack', host: 'main', cargo:
      doc:     style: "max-height": "80%", height: "40%"
      code:    style:"max-height": "80%", height:"40%"
      windows: style: "max-height": "2em"
    

# gwt.open_page "index.html"

gwt.add "MVC", -&gt; @page.test -&gt;
  require 'mvc', (a) -&gt;
    # Outer MVC - using the html and css from above
    a.mvc picture, document.body, (err, page) -&gt;
      process.nextTick -&gt;
        top = page.main.windows.offsetTop
        gwt.test top &gt; 100, "Box is at "+top</pre>

<p>The first parameter to <em>mvc</em> is an id. Later we can access elements by giving a relative or absolute path using id or offset. In this case we could get to the code panel with <em>mvc.page.contents.code</em>.</p>

<p>When an integrant is created, it is given references to</p>

<ul>
	<li><strong>id</strong>: a provided name for this instance</li>
	<li><strong>name</strong>: of this integrant type</li>
	<li><strong>host</strong>: containing DOM element</li>
	<li><strong>mvc</strong>: to create inner integrants as needed</li>
	<li><strong>opts</strong>: specific to this integrant type</li>
	<li><b>templates</b>: templates found in integrant html</li>
</ul>

<p>In this example we create a body integrant that fills the page. Inside it has a set of three vertically aligned resizeable panels. The panel_stack code can be viewed in the links below. In practice the three panels will themselves have other integrants:</p>

<ul>
	<li><strong>main.doc</strong>: A CKEditor integrant</li>
	<li><strong>main.code</strong>: A tab integrant containing CodeMirror integrants</li>
	<li><strong>main.windows</strong>: A tab integrant linking to other windows</li>
</ul>

<div class="metadata Ref">Ref: <span class="mvc"><a href="javascript:usdlc.edit_source({value:'mvc.coffee',path:'../roaster/client/mvc.coffee',category:'client'})">mvc.coffee</a> </span><span class="html_editor"><a href="javascript:usdlc.edit_source({value:'html_editor.coffee',path:'../roaster/client/integrants/html_editor.coffee',category:'integrants'})">html_editor.coffee</a> </span><span class="dirs"><a href="javascript:usdlc.edit_source({value:'dirs.js',path:'../roaster/server/dirs.js',category:'server'})">dirs.js</a> </span><span class="files"><a href="javascript:usdlc.edit_source({value:'files.coffee',path:'../roaster/server/files.coffee',category:'server'})">files.coffee</a> </span><span class="walk"><a href="javascript:usdlc.edit_source({value:'walk.coffee',path:'../roaster/server/walk.coffee',category:'server'})">walk.coffee</a> </span><span class="panel_stack"><a href="javascript:usdlc.edit_source({value:'panel_stack.coffee',path:'../roaster/client/integrants/panel_stack.coffee',category:'integrants'})">panel_stack.coffee</a> </span><span class="Bridge"><a href="javascript:usdlc.bridge_editor()">Bridge</a> </span><span class="Play"><a href="javascript:usdlc.play()">Play</a> </span><span class="create-http-server"><a href="javascript:usdlc.edit_source({value:'create-http-server.coffee',path:'../roaster/server/boot/create-http-server.coffee',category:'boot'})">create-http-server.coffee</a> </span><span class="internet"><a href="javascript:usdlc.edit_source({value:'internet.coffee',path:'../roaster/server/internet.coffee',category:'server'})">internet.coffee</a> </span></div>

<p><textarea readonly="readonly" source="true" type="gwt.coffee"></textarea></p>

<h4>Integrant Support</h4>

<p>The mvc callback returns a reference to an instance of the named class. This class provides it's own methods along with a standard set seeded as part of the instance creation.</p>

<h5>&nbsp;mvc (picture)</h5>

<p>Many integrants act as containers for other integrants. This mvc reference is a convenience.</p>

<ul>
	<li><strong>name</strong>&nbsp;is used to load script, style and html files</li>
	<li><strong>host</strong>&nbsp;is the element or integrant that wraps the one to be created</li>
	<li><strong>opts</strong>&nbsp;is saved for use by integrant
	<ul>
		<li><strong>action</strong>&nbsp;is the default action for added sub-elements</li>
		<li><strong>named_content</strong>&nbsp;allows name to be used for content in add</li>
	</ul>
	</li>
	<li><strong>ready</strong>&nbsp;is called once all are loaded and processed</li>
</ul>

<p>See html_editor in the reference below for a complete example.</p>

<div class="metadata Ref">Ref: <span class="html_editor"><a href="javascript:usdlc.edit_source({value:'html_editor.coffee',path:'../roaster/client/integrants/html_editor.coffee',category:'integrants'})">html_editor.coffee</a></span></div>

<h5>append (opts?)</h5>

<p>Any integrant that is going to use add or append needs to extract a template element from the DOM - commonly using <em>@template</em>. Append returns the newly created element after performing some common functions.</p>

<ul>
	<li><em>@templates</em>&nbsp;list of templates, cloned to create the elements</li>
	<li>element added to <em>@list</em> in integrant</li>
	<li><em>opts</em> reference saved in element</li>
	<li><em>opts.style?</em> is processed and styles added to the element.</li>
	<li><em>opts.template?</em> class or index of template in list (default 0)</li>
	<li><em>element.innerHTML</em> replaced by <em>opts.content </em>if it exists</li>
	<li><em>element.integrant</em> set to containing/parent integrant</li>
	<li><em>@prepare(element)</em> called if the integrant class has this method</li>
	<li>if <em>opts.integrant</em> exists, turn element into a sub-integrant
	<ul>
		<li>if <em>opts.add</em> exists, add map to the sub-integrant</li>
	</ul>
	</li>
</ul>

<div class="metadata Ref">Ref: <span class="panel_stack"><a href="javascript:usdlc.edit_source({value:'panel_stack.coffee',path:'../roaster/client/integrants/panel_stack.coffee',category:'integrants'})">panel_stack.coffee</a> </span><span class="tab_view"><a href="javascript:usdlc.edit_source({value:'tab_view.coffee',path:'../roaster/client/integrants/tab_view.coffee',category:'integrants'})">tab_view.coffee</a> </span><span class="html_editor"><a href="javascript:usdlc.edit_source({value:'html_editor.coffee',path:'../roaster/client/integrants/html_editor.coffee',category:'integrants'})">html_editor.coffee</a> </span></div>

<h5>init (ready)</h5>

<p>Any mvc class can have an init class that is called. The ready signal is not given until the callback with optional error parameter. The instance is ready with references to opts, host and integrant ssupport methods.</p>

<div class="metadata Ref">Ref: <span class="toolbar"><a href="javascript:usdlc.edit_source({value:'toolbar.coffee',path:'../roaster/client/integrants/html_editor/toolbar.coffee',category:'html_editor'})">toolbar.coffee</a> </span></div>

<h5>require (modules..., ready)</h5>

<p>Usually called in <em>init()</em>&nbsp;to load additional integrant related modules from <em>client/integrants/<strong>&lt;&lt;module_name&gt;&gt;</strong>/</em>.&nbsp;</p>

<div style="background:#eee;border:1px solid #ccc;padding:5px 10px;"><code>class Body<br />
&nbsp; constructor: (@host, mvc, @options...) -&gt;<br />
&nbsp;&nbsp;<br />
&nbsp; init: (ready) -&gt;<br />
&nbsp; &nbsp; @require "moda,modb","modc",ready<br />
&nbsp; &nbsp;&nbsp;<br />
module.exports = Body</code></div>

<p>&nbsp;Modules have the same make-up as integrants - a class is instantiated and an optional <em>init(@integrant, ready)</em> is run. See the&nbsp;<em>tabs.coffee</em>&nbsp;link below for an example.</p>

<div class="metadata Ref">Ref: <span class="tabs"><a href="javascript:usdlc.edit_source({value:'tabs.coffee',path:'../roaster/client/integrants/html_editor/tabs.coffee',category:'html_editor'})">tabs.coffee</a> </span></div>

<h5>select (subelement)</h5>

<p>Select assumes that only one of the list of appended elements can be selected at any one time. It calls <em>opts.action(element,is_selected)</em>&nbsp;on the element being deselected and again on the one being selected. The subelement can be either a name string or a reference to the element to be selected.</p>

<div style="background:#eee;border:1px solid #ccc;padding:5px 10px;"><code>tab.onclick = =&gt;&nbsp;tab.integrant.select(tab)</code></div>

<div class="metadata Ref">Ref: <span class="loaders"><a href="javascript:usdlc.edit_source({value:'loaders.coffee',path:'../roaster/client/bootstrap/loaders.coffee',category:'bootstrap'})">loaders.coffee</a> </span><span class="strings"><a href="javascript:usdlc.edit_source({value:'strings.coffee',path:'../roaster/common/strings.coffee',category:'common'})">strings.coffee</a> </span><span class="dirs"><a href="javascript:usdlc.edit_source({value:'dirs.js',path:'../roaster/server/dirs.js',category:'server'})">dirs.js</a> </span><span class="server"><a href="javascript:usdlc.edit_source({value:'server.coffee',path:'../roaster/scripts/server.coffee',category:'scripts'})">server.coffee</a> </span><span class="respond"><a href="javascript:usdlc.edit_source({value:'respond.coffee',path:'../roaster/server/http/respond.coffee',category:'http'})">respond.coffee</a> </span><span class="load"><a href="javascript:usdlc.edit_source({value:'load.js',path:'../roaster/boot/load.js',category:'boot'})">load.js</a> </span><span class="streams"><a href="javascript:usdlc.edit_source({value:'streams.coffee',path:'../roaster/server/streams.coffee',category:'server'})">streams.coffee</a> </span><span class="read"><a href="javascript:usdlc.edit_source({value:'read.coffee',path:'../roaster/server/http/read.coffee',category:'http'})">read.coffee</a> </span><span class="driver"><a href="javascript:usdlc.edit_source({value:'driver.coffee',path:'../roaster/server/http/driver.coffee',category:'http'})">driver.coffee</a> </span><span class="create-http-server"><a href="javascript:usdlc.edit_source({value:'create-http-server.coffee',path:'../roaster/server/boot/create-http-server.coffee',category:'boot'})">create-http-server.coffee</a> </span><span class="internet"><a href="javascript:usdlc.edit_source({value:'internet.coffee',path:'../roaster/server/internet.coffee',category:'server'})">internet.coffee</a> </span><span class="wait_for"><a href="javascript:usdlc.edit_source({value:'wait_for.coffee',path:'../roaster/common/wait_for.coffee',category:'common'})">wait_for.coffee</a> </span><span class="node_library"><a href="javascript:usdlc.edit_source({value:'node_library.coffee',path:'../roaster/server/node_library.coffee',category:'server'})">node_library.coffee</a> </span><span class="packages"><a href="javascript:usdlc.edit_source({value:'packages.coffee',path:'../roaster/server/packages.coffee',category:'server'})">packages.coffee</a> </span><span class="npm"><a href="javascript:usdlc.edit_source({value:'npm.js',path:'../roaster/server/npm.js',category:'server'})">npm.js</a> </span><span class="create-faye-server"><a href="javascript:usdlc.edit_source({value:'create-faye-server.coffee',path:'../roaster/server/boot/create-faye-server.coffee',category:'boot'})">create-faye-server.coffee</a> </span><span class="line_reader"><a href="javascript:usdlc.edit_source({value:'line_reader.coffee',path:'../roaster/server/line_reader.coffee',category:'server'})">line_reader.coffee</a> </span><span class="files"><a href="javascript:usdlc.edit_source({value:'files.coffee',path:'../roaster/server/files.coffee',category:'server'})">files.coffee</a> </span></div>

<h5>template (host, class_name?)</h5>

<p>The method @template is normally called in the integrant constructor. Given the container element and a class name, it will replace the @template with the element and remove it from the DOM. As a side-effect it will also add @host - being the parent node of the template and the most likely container for additions using the template. See <em>tab_view</em> in the reference for an example. For special needs, omit the class_name and provide an element reference as the first parameter.</p>

<div style="background:#eee;border:1px solid #ccc;padding:5px 10px;"><code>constructor: (host, mvc, opts...) -&gt;<br />
&nbsp;&nbsp;# the following two lines are equivalent...<br />
&nbsp;&nbsp;@template host, 'template_class'<br />
&nbsp;&nbsp;@template host.getElementsByClassName('template_class')[0]</code></div>

<p><textarea readonly="readonly" source="true" type="gwt.coffee"></textarea></p>

<div class="metadata Ref">Ref: <span class="tab_view"><a href="javascript:usdlc.edit_source({value:'tab_view.coffee',path:'../roaster/client/integrants/tab_view.coffee',category:'integrants'})">tab_view.coffee</a></span></div>

<h3>&nbsp;Panel Stacks</h3>

<p>A panel stack is a group of empty elements stacked one on top of the other, all the width of the host element. The height of any element can be changed and the stack will adjust the height of the others to fill the host. How each panel behaves is controlled by it's style height option:</p>

<ul>
	<li><strong>no height option</strong> - This panel will be high enough to fit content. If content height changes, the panel height changes and donor panels will also change to compensate. Fit panels are optional.</li>
	<li><strong>style: height: '100%'</strong> - for donor panels. They will change height to fill the page should a fit or receiver panel change size. Their must be at least one donor panel and the sum of all the donor panels should be 100%.</li>
	<li><strong>style: height: '200px'</strong> - Receiver panels are those of fixed height. They will take space from or give space back to donor panels as they change size. Receiver panels are optional.</li>
</ul>

<pre title="coffee" type="coffee">
gwt.open_page "index.html"

picture =
  main: mvc: 'panel_stack', cargo:
    header:  {}
    doc:     style: height: '50%'
    code:    style: height: '50%'
    windows: {}

gwt.add "Panel Stack", -&gt; @page.test -&gt;
  require 'mvc', (the) -&gt;
    the.mvc picture, document.body, (err, main) -&gt;
      process.nextTick -&gt;
        top = main.windows.offsetTop
        usdlc2.test top &gt; 100, "Box is at "+top</pre>

<p><textarea readonly="readonly" source="true" type="gwt.coffee"></textarea></p>

<div class="metadata Ref">Ref: <span class="Bridge"><a href="javascript:usdlc.bridge_editor()">Bridge</a> </span><span class="Play"><a href="javascript:usdlc.play()">Play</a> </span><span class="panel_stack"><a href="javascript:usdlc.edit_source({value:'panel_stack.coffee',path:'../roaster/client/integrants/panel_stack.coffee',category:'integrants'})">panel_stack.coffee</a> </span><span class="mvc"><a href="javascript:usdlc.edit_source({value:'mvc.coffee',path:'../roaster/client/mvc.coffee',category:'client'})">mvc.coffee</a> </span><span class="internet"><a href="javascript:usdlc.edit_source({value:'internet.coffee',path:'../roaster/server/internet.coffee',category:'server'})">internet.coffee</a> </span><span class="dirs"><a href="javascript:usdlc.edit_source({value:'dirs.js',path:'../roaster/server/dirs.js',category:'server'})">dirs.js</a> </span><span class="processes"><a href="javascript:usdlc.edit_source({value:'processes.coffee',path:'../roaster/server/processes.coffee',category:'server'})">processes.coffee</a> </span><span class="ckeditor"><a href="javascript:usdlc.edit_source({value:'ckeditor.coffee',path:'../roaster/client/packages/ckeditor.coffee',category:'packages'})">ckeditor.coffee</a> </span><span class="tab_view"><a href="javascript:usdlc.edit_source({value:'tab_view.coffee',path:'../roaster/client/integrants/tab_view.coffee',category:'integrants'})">tab_view.coffee</a> </span><span class="roaster"><a href="javascript:usdlc.edit_source({value:'roaster.coffee',path:'../roaster/client/roaster.coffee',category:'client'})">roaster.coffee</a> </span></div>

<h3>Panel Switcher</h3>

<p>Given a host, add a series of panels where only one will be visible at any one time. Call add() and append() for new panels and select() to ;choose which one is displayed.</p>

<pre title="coffee" type="coffee">
gwt.open_page "index.html"
picture =
  main: mvc: 'panel_switcher', cargo:
    one:   html: 'One', style: "background-color": "red"
    two:   html: 'Two', style: "background-color": "green"

gwt.add "Panel Switcher", -&gt; @page.test -&gt;
  require 'mvc', (the) -&gt;
    host = document.body
    the.mvc picture, host, (err, panes) -&gt;
      colour = (expected_colour) -&gt;
        hidden = host.getElementsByClassName('hidden')
        return false if hidden.length isnt 1
        bg_colour = hidden[0].style["background-color"]
        return bg_colour isnt expected_colour
         
      panes.select "one"
      process.nextTick -&gt;
        return gwt.fail('One') if not colour "red"
        
        panes.select "two"
        process.nextTick -&gt;
          return gwt.fail('Two') if not colour "green"
          gwt.pass()</pre>

<div class="metadata Ref">Ref: <span class="Bridge"><a href="javascript:usdlc.bridge_editor()">Bridge</a> </span><span class="Play"><a href="javascript:usdlc.play()">Play</a>&nbsp;</span><span class="streams"><a href="javascript:usdlc.edit_source({value:'streams.coffee',path:'../roaster/server/streams.coffee',category:'server'})">streams.coffee</a> </span><span class="respond"><a href="javascript:usdlc.edit_source({value:'respond.coffee',path:'../roaster/server/http/respond.coffee',category:'http'})">respond.coffee</a> </span><span class="line_reader"><a href="javascript:usdlc.edit_source({value:'line_reader.coffee',path:'../roaster/server/line_reader.coffee',category:'server'})">line_reader.coffee</a> </span><span class="internet"><a href="javascript:usdlc.edit_source({value:'internet.coffee',path:'../roaster/server/internet.coffee',category:'server'})">internet.coffee</a> </span><span class="server"><a href="javascript:usdlc.edit_source({value:'server.coffee',path:'../roaster/scripts/server.coffee',category:'scripts'})">server.coffee</a> </span></div>

<p><textarea readonly="readonly" source="true" type="gwt.coffee"></textarea></p>

<h3>Tab View</h3>

<p>Display tabs. When selected, it's action property is called. You can select() a tab programmatically.</p>

<pre title="coffee" type="coffee">
gwt.open_page "index.html"

gwt.add "Tab View", -&gt; @page.test -&gt;
  require 'mvc', (the) -&gt;
    counter = 0
    act = (tab, select) -&gt;
      if select
        counter += tab.opts.nn
      else
        counter -= tab.opts.nn
      console.log 2,counter,tab.opts,select
      
    picture =
      tabs: mvc: 'tab_view', error "message", cargo:
        One: action: act, nn: 1, content: 'One'
        Two: action: act, nn: 2, content: 'Two'
        Three: action: act, nn: 3, content: 'Three'
        Four: action: act, nn: 4, content: 'Four'
        
    the.mvc picture, document.body, (err, tabs) -&gt;
      process.nextTick -&gt;
        tabs.select 'Two'
        return gwt.fail('Two') if counter isnt 2
        tabs.Three.click()
        return gwt.fail('Three') if counter isnt 3
        me = document.getElementsByClassName('messages')
        gwt.fail('Messages') if me.length is 0 or \
          me[0].innerHTML isnt 'message&lt;/b&gt;'
        gwt.pass()
</pre>

<div class="metadata Ref">Ref: <span class="Bridge"><a href="javascript:usdlc.bridge_editor()">Bridge</a> </span><span class="Play"><a href="javascript:usdlc.play()">Play</a>&nbsp;</span><span class="html_editor"><a href="javascript:usdlc.edit_source({value:'html_editor.coffee',path:'../roaster/client/integrants/html_editor.coffee',category:'integrants'})">html_editor.coffee</a> </span><span class="tab_view"><a href="javascript:usdlc.edit_source({value:'tab_view.coffee',path:'../roaster/client/integrants/tab_view.coffee',category:'integrants'})">tab_view.coffee</a> </span><span class="panel_switcher"><a href="javascript:usdlc.edit_source({value:'panel_switcher.coffee',path:'../roaster/client/integrants/panel_switcher.coffee',category:'integrants'})">panel_switcher.coffee</a> </span><span class="panel_stack"><a href="javascript:usdlc.edit_source({value:'panel_stack.css',path:'../roaster/client/integrants/panel_stack.css',category:'integrants'})">panel_stack.css</a> </span><span class="create-http-server"><a href="javascript:usdlc.edit_source({value:'create-http-server.coffee',path:'../roaster/server/boot/create-http-server.coffee',category:'boot'})">create-http-server.coffee</a> </span></div>

<p><textarea readonly="readonly" source="true" type="gwt.coffee"></textarea></p>

<h3>HTML Editor View</h3>

<p>This integrant wraps ckeditor for convenient use.</p>

<pre title="coffee" type="coffee">
gwt.open_page "index.html"

picture = main: mvc: 'html_editor'

gwt.add "HTML Editor View", -&gt; @page.test -&gt;
  require.on_ready -&gt; require 'mvc', (the) -&gt;
    the.mvc picture, document.body, (err, ed) -&gt;
      process.nextTick -&gt;
        setTimeout (-&gt;gwt.fail()), 1000</pre>

<div class="metadata Ref">Ref: <span class="Bridge"><a href="javascript:usdlc.bridge_editor()">Bridge</a> </span><span class="Play"><a href="javascript:usdlc.play()">Play</a>&nbsp;</span><span class="html_editor"><a href="javascript:usdlc.edit_source({value:'html_editor.coffee',path:'../roaster/client/integrants/html_editor.coffee',category:'integrants'})">html_editor.coffee</a> </span><span class="toolbar"><a href="javascript:usdlc.edit_source({value:'toolbar.coffee',path:'../roaster/client/integrants/html_editor/toolbar.coffee',category:'html_editor'})">toolbar.coffee</a> </span><span class="tabs"><a href="javascript:usdlc.edit_source({value:'tabs.coffee',path:'../roaster/client/integrants/html_editor/tabs.coffee',category:'html_editor'})">tabs.coffee</a> </span><span class="tab_view"><a href="javascript:usdlc.edit_source({value:'tab_view.coffee',path:'../roaster/client/integrants/tab_view.coffee',category:'integrants'})">tab_view.coffee</a> </span><span class="mvc"><a href="javascript:usdlc.edit_source({value:'mvc.coffee',path:'../roaster/client/mvc.coffee',category:'client'})">mvc.coffee</a> </span><span class="Integrant"><a href="javascript:usdlc.edit_source({value:'Integrant.coffee',path:'../roaster/client/Integrant.coffee',category:'client'})">Integrant.coffee</a> </span><span class="panel_stack"><a href="javascript:usdlc.edit_source({value:'panel_stack.coffee',path:'../roaster/client/integrants/panel_stack.coffee',category:'integrants'})">panel_stack.coffee</a> </span><span class="panel_switcher"><a href="javascript:usdlc.edit_source({value:'panel_switcher.coffee',path:'../roaster/client/integrants/panel_switcher.coffee',category:'integrants'})">panel_switcher.coffee</a> </span><span class="create-http-server"><a href="javascript:usdlc.edit_source({value:'create-http-server.coffee',path:'../roaster/server/boot/create-http-server.coffee',category:'boot'})">create-http-server.coffee</a> </span><span class="request"><a href="javascript:usdlc.edit_source({value:'request.coffee',path:'../roaster/client/roaster/request.coffee',category:'roaster'})">request.coffee</a> </span><span class="README"><a href="javascript:usdlc.edit_source({value:'README.md',path:'../roaster/README.md',category:'roaster'})">README.md</a> </span><span class="respond"><a href="javascript:usdlc.edit_source({value:'respond.coffee',path:'../roaster/server/http/respond.coffee',category:'http'})">respond.coffee</a> </span></div>

<p><textarea readonly="readonly" source="true" type="gwt.coffee"></textarea></p>

<h2>Notes</h2>
</body>
</html>
